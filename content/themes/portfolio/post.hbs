{{!-- 
    ğŸ“ post.hbs - å€‹åˆ¥è¨˜äº‹ãƒšãƒ¼ã‚¸ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
    ==========================================
    ã“ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã¯å€‹ã€…ã®ãƒ–ãƒ­ã‚°è¨˜äº‹ã‚„ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªä½œå“ã‚’è¡¨ç¤ºã™ã‚‹éš›ã«ä½¿ç”¨ã•ã‚Œã¾ã™ã€‚
    
    å·¦çŸ¢å°ã§defaultãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ç¶™æ‰¿: default.hbs ã‚’è¦ªãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã¨ã—ã¦ä½¿ç”¨
--}}
{{!< default}}

{{!-- 
    <article> ã‚¿ã‚°: è¨˜äº‹å…¨ä½“ã‚’å›²ã‚€ã‚»ãƒãƒ³ãƒ†ã‚£ãƒƒã‚¯HTML5è¦ç´ 
    post-full: è¨˜äº‹å…¨ä½“ã®ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°ç”¨ã‚¯ãƒ©ã‚¹
--}}
<article class="post-full">
    <header class="post-header">
        <div class="container">
            {{!-- 
                ãƒ—ãƒ©ã‚¤ãƒãƒªã‚¿ã‚°ã®è¡¨ç¤º
                primary_tag: è¨˜äº‹ã«è¨­å®šã•ã‚ŒãŸæœ€åˆã®ã‚¿ã‚°ï¼ˆãƒ¡ã‚¤ãƒ³ã‚«ãƒ†ã‚´ãƒªï¼‰
                primary_tag.url: ã‚¿ã‚°ãƒšãƒ¼ã‚¸ã¸ã®URL
                primary_tag.name: ã‚¿ã‚°å
            --}}
            {{#if primary_tag}}
                <div class="post-category">
                    <a href="{{primary_tag.url}}">{{primary_tag.name}}</a>
                </div>
            {{/if}}
            
            {{!-- è¨˜äº‹ã‚¿ã‚¤ãƒˆãƒ«: ãƒšãƒ¼ã‚¸ã®ãƒ¡ã‚¤ãƒ³è¦‹å‡ºã— --}}
            <h1 class="post-title">{{title}}</h1>
            
            <div class="post-meta">
                {{!-- 
                    è‘—è€…æƒ…å ±ã®è¡¨ç¤º
                    primary_author: ãƒ¡ã‚¤ãƒ³è‘—è€…ã®æƒ…å ±ã«ã‚¢ã‚¯ã‚»ã‚¹
                    è¤‡æ•°è‘—è€…ãŒã„ã‚‹å ´åˆã¯ foreach authors ã‚’ä½¿ç”¨å¯èƒ½
                --}}
                {{#primary_author}}
                    <div class="author-info">
                        {{!-- 
                            è‘—è€…ã®ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç”»åƒ
                            size="xs": extra smallã‚µã‚¤ã‚ºï¼ˆ32pxï¼‰
                            ã‚µã‚¤ã‚ºã‚ªãƒ—ã‚·ãƒ§ãƒ³: xs, s, m, l, xl
                        --}}
                        {{#if profile_image}}
                            <img class="author-image" src="{{img_url profile_image size="xs"}}" alt="{{name}}">
                        {{/if}}
                        <span>{{name}}</span>
                    </div>
                {{/primary_author}}
                
                <time datetime="{{date format="YYYY-MM-DD"}}">{{date format="MMM DD, YYYY"}}</time>
                
                {{#if reading_time}}
                    <span class="reading-time">{{reading_time}}</span>
                {{/if}}
            </div>
        </div>
    </header>
    
    {{!-- 
        ãƒ•ã‚£ãƒ¼ãƒãƒ£ãƒ¼ç”»åƒï¼ˆã‚¢ã‚¤ã‚­ãƒ£ãƒƒãƒç”»åƒï¼‰ã®è¡¨ç¤º
        <figure>: HTML5ã®å›³è¡¨è¦ç´ 
    --}}
    {{#if feature_image}}
        <figure class="post-image">
            {{!-- 
                ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ç”»åƒã®å®Ÿè£…
                srcset: è¤‡æ•°ã®ç”»åƒã‚µã‚¤ã‚ºã‚’æŒ‡å®šã—ã€ãƒ–ãƒ©ã‚¦ã‚¶ãŒæœ€é©ãªã‚‚ã®ã‚’é¸æŠ
                sizes: ãƒ“ãƒ¥ãƒ¼ãƒãƒ¼ãƒˆã«å¿œã˜ãŸç”»åƒã®è¡¨ç¤ºã‚µã‚¤ã‚ºã‚’æŒ‡å®š
            --}}
            <img src="{{img_url feature_image size="xl"}}" 
                 srcset="{{img_url feature_image size="m"}} 600w,
                         {{img_url feature_image size="l"}} 1000w,
                         {{img_url feature_image size="xl"}} 2000w"
                 sizes="(max-width: 800px) 100vw, 800px"
                 alt="{{#if feature_image_alt}}{{feature_image_alt}}{{else}}{{title}}{{/if}}">
            
            {{!-- 
                ç”»åƒã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³
                Ghostã‚¨ãƒ‡ã‚£ã‚¿ã§ç”»åƒã«ã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³ã‚’è¿½åŠ ã§ãã‚‹
            --}}
            {{#if feature_image_caption}}
                <figcaption>{{feature_image_caption}}</figcaption>
            {{/if}}
        </figure>
    {{/if}}
    
    {{!-- 
        è¨˜äº‹æœ¬æ–‡
        content: Ghostã‚¨ãƒ‡ã‚£ã‚¿ã§ä½œæˆã•ã‚ŒãŸã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’HTMLã§å‡ºåŠ›
        Ghostã¯ã‚¨ãƒ‡ã‚£ã‚¿å†…å®¹ã‚’é©åˆ‡ãªHTMLã‚¿ã‚°ã«å¤‰æ›ã—ã¦å‡ºåŠ›
    --}}
    <section class="post-content">
        {{content}}
    </section>
    
    <footer class="post-footer">
        <div class="container">
            {{!-- 
                ã‚¿ã‚°ä¸€è¦§
                foreach tags: ã™ã¹ã¦ã®ã‚¿ã‚°ã‚’ãƒ«ãƒ¼ãƒ—è¡¨ç¤º
                å„ã‚¿ã‚°ã¯ã‚¿ã‚°ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ãƒšãƒ¼ã‚¸ã¸ã®ãƒªãƒ³ã‚¯
            --}}
            {{#if tags}}
                <div class="post-tags">
                    {{#foreach tags}}
                        <a href="{{url}}" class="tag">{{name}}</a>
                    {{/foreach}}
                </div>
            {{/if}}
            
            <div class="post-share">
                <h4>Share this post</h4>
                <div class="share-buttons">
                    {{!-- 
                        Twitterã‚·ã‚§ã‚¢ãƒœã‚¿ãƒ³
                        encode title: ã‚¿ã‚¤ãƒˆãƒ«ã‚’URLã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰
                        url absolute="true": å®Œå…¨ãªURLã‚’å–å¾—ï¼ˆhttps://ã‹ã‚‰å§‹ã¾ã‚‹ï¼‰
                    --}}
                    <a href="https://twitter.com/intent/tweet?text={{encode title}}&url={{url absolute="true"}}" 
                       target="_blank" rel="noopener" class="share-twitter">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M23.643 4.937c-.835.37-1.732.62-2.675.733.962-.576 1.7-1.49 2.048-2.578-.9.534-1.897.922-2.958 1.13-.85-.904-2.06-1.47-3.4-1.47-2.572 0-4.658 2.086-4.658 4.66 0 .364.042.718.12 1.06-3.873-.195-7.304-2.05-9.602-4.868-.4.69-.63 1.49-.63 2.342 0 1.616.823 3.043 2.072 3.878-.764-.025-1.482-.234-2.11-.583v.06c0 2.257 1.605 4.14 3.737 4.568-.392.106-.803.162-1.227.162-.3 0-.593-.028-.877-.082.593 1.85 2.313 3.198 4.352 3.234-1.595 1.25-3.604 1.995-5.786 1.995-.376 0-.747-.022-1.112-.065 2.062 1.323 4.51 2.093 7.14 2.093 8.57 0 13.255-7.098 13.255-13.254 0-.2-.005-.402-.014-.602.91-.658 1.7-1.477 2.323-2.41z"/>
                        </svg>
                        Twitter
                    </a>
                    
                    <a href="https://www.facebook.com/sharer/sharer.php?u={{url absolute="true"}}" 
                       target="_blank" rel="noopener" class="share-facebook">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/>
                        </svg>
                        Facebook
                    </a>
                    
                    <a href="https://www.linkedin.com/shareArticle?mini=true&url={{url absolute="true"}}&title={{encode title}}" 
                       target="_blank" rel="noopener" class="share-linkedin">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/>
                        </svg>
                        LinkedIn
                    </a>
                </div>
            </div>
            
            {{!-- 
                è‘—è€…æƒ…å ±ãƒœãƒƒã‚¯ã‚¹
                è¨˜äº‹ã®æœ€å¾Œã«è‘—è€…ã®è©³ç´°æƒ…å ±ã‚’è¡¨ç¤º
            --}}
            {{#primary_author}}
                <div class="author-box">
                    {{!-- è‘—è€…ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç”»åƒï¼ˆsmallã‚µã‚¤ã‚ºï¼‰ --}}
                    {{#if profile_image}}
                        <img class="author-box-image" src="{{img_url profile_image size="s"}}" alt="{{name}}">
                    {{/if}}
                    <div class="author-box-content">
                        <h4>About {{name}}</h4>
                        {{!-- 
                            è‘—è€…ã®ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«æ–‡
                            Ghostç®¡ç†ç”»é¢ã® Staff > è‘—è€… > Bio ã§è¨­å®š
                        --}}
                        {{#if bio}}
                            <p>{{bio}}</p>
                        {{/if}}
                        {{!-- è‘—è€…ãƒšãƒ¼ã‚¸ã¸ã®ãƒªãƒ³ã‚¯ --}}
                        <a href="{{url}}" class="author-link">View all posts by {{name}} â†’</a>
                    </div>
                </div>
            {{/primary_author}}
        </div>
    </footer>
</article>

{{!-- 
    é–¢é€£è¨˜äº‹ã‚»ã‚¯ã‚·ãƒ§ãƒ³
    <aside>: HTML5ã®è£œè¶³æƒ…å ±è¦ç´ 
--}}
<aside class="related-posts">
    <div class="container">
        <h3>You might also like</h3>
        <div class="related-grid">
            {{!-- 
                é–¢é€£è¨˜äº‹ã®å–å¾—
                filter="id:-ç¾åœ¨ã®è¨˜äº‹ID+tag:ãƒ—ãƒ©ã‚¤ãƒãƒªã‚¿ã‚°ã®slug": 
                - id:-ç¾åœ¨ã®è¨˜äº‹ID: ç¾åœ¨ã®è¨˜äº‹IDã‚’é™¤å¤–
                - tag:ãƒ—ãƒ©ã‚¤ãƒãƒªã‚¿ã‚°ã®slug: åŒã˜ãƒ—ãƒ©ã‚¤ãƒãƒªã‚¿ã‚°ã‚’æŒã¤è¨˜äº‹
                - +: ANDæ¡ä»¶
                limit="3": æœ€å¤§3ä»¶ã®é–¢é€£è¨˜äº‹ã‚’è¡¨ç¤º
            --}}
            {{#get "posts" filter="id:-{{id}}+tag:{{primary_tag.slug}}" limit="3" include="tags"}}
                {{#foreach posts}}
                    <article class="related-item">
                        <a href="{{url}}" class="related-link">
                            {{#if feature_image}}
                                <div class="related-image">
                                    <img src="{{img_url feature_image size="m"}}" 
                                         alt="{{#if feature_image_alt}}{{feature_image_alt}}{{else}}{{title}}{{/if}}"
                                         loading="lazy">
                                </div>
                            {{/if}}
                            <div class="related-content">
                                <h4>{{title}}</h4>
                                <time datetime="{{date format="YYYY-MM-DD"}}">{{date format="MMM DD, YYYY"}}</time>
                            </div>
                        </a>
                    </article>
                {{/foreach}}
            {{/get}}
        </div>
    </div>
</aside>

<style>
/* Post specific styles */
.post-full {
    padding-top: 5rem;
}

.post-category {
    margin-bottom: 1rem;
}

.post-category a {
    color: var(--accent-color);
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    font-size: 0.875rem;
}

.author-info {
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.author-image {
    width: 32px;
    height: 32px;
    border-radius: 50%;
}

.post-image {
    max-width: 1200px;
    margin: 0 auto 3rem;
    padding: 0 1.5rem;
}

.post-image img {
    width: 100%;
    border-radius: 1rem;
}

.post-image figcaption {
    text-align: center;
    margin-top: 1rem;
    color: var(--text-secondary);
    font-size: 0.875rem;
}

.post-footer {
    padding: 3rem 0;
    border-top: 1px solid var(--border-color);
}

.post-tags {
    display: flex;
    gap: 0.5rem;
    flex-wrap: wrap;
    margin-bottom: 2rem;
}

.post-share {
    margin-bottom: 3rem;
}

.post-share h4 {
    margin-bottom: 1rem;
}

.share-buttons {
    display: flex;
    gap: 1rem;
    flex-wrap: wrap;
}

.share-buttons a {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.5rem 1rem;
    background: var(--card-bg);
    border: 1px solid var(--border-color);
    border-radius: 0.5rem;
    color: var(--text-color);
    transition: all 0.3s ease;
}

.share-buttons a:hover {
    background: var(--accent-color);
    color: white;
    border-color: var(--accent-color);
}

.author-box {
    display: flex;
    gap: 1.5rem;
    padding: 2rem;
    background: var(--card-bg);
    border-radius: 1rem;
}

.author-box-image {
    width: 80px;
    height: 80px;
    border-radius: 50%;
    flex-shrink: 0;
}

.author-box-content h4 {
    margin-bottom: 0.5rem;
}

.author-box-content p {
    color: var(--text-secondary);
    margin-bottom: 1rem;
}

.author-link {
    font-weight: 500;
}

.related-posts {
    padding: 4rem 0;
    background: var(--card-bg);
}

.related-posts h3 {
    text-align: center;
    font-size: 2rem;
    margin-bottom: 2rem;
}

.related-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 2rem;
}

.related-item {
    background: var(--bg-color);
    border-radius: 0.5rem;
    overflow: hidden;
    transition: transform 0.3s ease;
}

.related-item:hover {
    transform: translateY(-5px);
}

.related-link {
    display: block;
    color: var(--text-color);
}

.related-image {
    aspect-ratio: 16/9;
    overflow: hidden;
}

.related-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.3s ease;
}

.related-item:hover .related-image img {
    transform: scale(1.05);
}

.related-content {
    padding: 1rem;
}

.related-content h4 {
    font-size: 1.125rem;
    margin-bottom: 0.5rem;
}

.related-content time {
    font-size: 0.875rem;
    color: var(--text-secondary);
}

@media (max-width: 768px) {
    .author-box {
        flex-direction: column;
        text-align: center;
    }
    
    .share-buttons {
        justify-content: center;
    }
}
</style>